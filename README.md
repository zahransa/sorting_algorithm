This code efficiently assigns students to groups based on their preferences, ensuring that all students are included in the final output. 
